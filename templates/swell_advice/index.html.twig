{% extends 'base.html.twig' %}

{% block body %}
<body>
<center>
    <img src="{{ asset('img/logo2.png') }}" alt="logo">
</center>
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<title id="Title">Swell Advice</title>

<div class="searchDiv">
    <center>
<center>
	<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Recherchez un spot..." title="Type in a name">
	<ul class = "liste" id="liste"></ul>
</center>

<script>
function myFunction() {
    var input, text, filter, ul, a, li, i, txtValue; // Initialisation des valeurs

    input = document.getElementById("myInput"); // recupère l'inpute de la bar de recherche

    filter = input.value.toUpperCase(); // recupère la valeur de la bar de recherche

    ul = document.getElementById("liste"); // recupère la liste

    var tab =  {{ cities | json_encode}};// Initialisation des valeurs du tableau
    console.log(tab);


    for (i = 0; i < tab.length; i++) {
            li = document.createElement("li");
            li.setAttribute("id", tab[i]);
            text = document.createTextNode(tab[i]);
            a = document.createElement("a");
            a.appendChild(text);
            a.href = "/city/" + tab[i];
            li.appendChild(a);
            li.style.display = "none";
    		ul.appendChild(li);

    }
    if (filter != ""){
	    for (i = 0; i < tab.length; i++) {
	    	li = document.getElementById(tab[i]);
	        if (tab[i].toUpperCase().startsWith(filter)) {
	            li.style.display = "";
	        }
	        else{
	        	li.style.display = "none";
	        }
	    }
	}
    else{
    	for (i = 0; i < tab.length; i++) {
            li = document.getElementById(tab[i]);
            li.style.display = "none";

    	}
    }
}

</script>
</div>
<br/>
<center>
<button type="button" class="btn btn-info">Renseigez-vous</button>
</center>

{% endblock %}
